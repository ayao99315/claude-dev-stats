# Claude Dev Stats - Claude Code æ™ºèƒ½å¼€å‘ç»Ÿè®¡åˆ†æç³»ç»Ÿ

åŸºäº Claude Code ç°æœ‰æ•°æ®æºçš„æ™ºèƒ½åˆ†æå·¥å…·ï¼Œä½¿ç”¨ TypeScript + Node.js æŠ€æœ¯æ ˆï¼Œé€šè¿‡é›¶å»¶è¿Ÿçš„æ•°æ®è¯»å–å’Œåˆ†ææ–¹æ¡ˆï¼Œæä¾›é¡¹ç›®çº§åˆ«çš„å¼€å‘ç»Ÿè®¡ä¸æ•ˆç‡åˆ†æã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 16+
- TypeScript 5.x
- Claude Code å·²å®‰è£…å¹¶é…ç½®

### å®‰è£…ä¾èµ–
```bash
npm install
```

### å¼€å‘æ¨¡å¼
```bash
npm run dev
```

### æ„å»ºé¡¹ç›®
```bash
npm run build
```

## ğŸ§ª æµ‹è¯•ç³»ç»Ÿ

æœ¬é¡¹ç›®æä¾›äº†å®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹é›†æˆç¯å¢ƒï¼Œæ”¯æŒå¤šç§æµ‹è¯•ç±»å‹ï¼š

### æµ‹è¯•æ¡†æ¶é…ç½®
- **æµ‹è¯•æ¡†æ¶**: Jest + TypeScript
- **è¦†ç›–ç‡å·¥å…·**: Istanbul
- **Mockå·¥å…·**: å†…ç½® Mock æ•°æ®ç”Ÿæˆå™¨
- **æ€§èƒ½æµ‹è¯•**: è‡ªå®šä¹‰æ€§èƒ½åŸºå‡†æµ‹è¯•

### è¿è¡Œæµ‹è¯•

#### å•å…ƒæµ‹è¯•
```bash
npm run test:unit
```

#### é›†æˆæµ‹è¯•  
```bash
npm run test:integration
```

#### ç«¯åˆ°ç«¯æµ‹è¯•
```bash
npm run test:e2e
```

#### æ€§èƒ½æµ‹è¯•
```bash
npm run test:performance
```

#### è¿è¡Œæ‰€æœ‰æµ‹è¯•
```bash
npm run test:all
```

#### ç›‘å¬æ¨¡å¼
```bash
npm run test:watch
```

#### ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
```bash
npm run test:coverage
```

### æµ‹è¯•è„šæœ¬é€‰é¡¹

ä½¿ç”¨è‡ªå®šä¹‰æµ‹è¯•è¿è¡Œå™¨ï¼š
```bash
# åŸºæœ¬ç”¨æ³•
node scripts/test-runner.js <command> [options]

# è¿è¡Œå•å…ƒæµ‹è¯•å¹¶ç›‘å¬å˜åŒ–
node scripts/test-runner.js unit --watch

# è¿è¡Œæ‰€æœ‰æµ‹è¯•å¹¶åœ¨é¦–æ¬¡å¤±è´¥æ—¶åœæ­¢
node scripts/test-runner.js all --bail

# ç”Ÿæˆè¯¦ç»†çš„æµ‹è¯•æŠ¥å‘Š
node scripts/test-runner.js report

# æ¸…ç†æµ‹è¯•ç¯å¢ƒ
node scripts/test-runner.js clean
```

## ğŸ“Š æµ‹è¯•è¦†ç›–ç‡ç›®æ ‡

- **å•å…ƒæµ‹è¯•**: >85% è¦†ç›–ç‡
- **é›†æˆæµ‹è¯•**: æ ¸å¿ƒä¸šåŠ¡æµç¨‹100%è¦†ç›–
- **æ€§èƒ½æµ‹è¯•**: å…³é”®æ“ä½œæ€§èƒ½åŸºå‡†
- **é”™è¯¯å¤„ç†**: å¼‚å¸¸æƒ…å†µå’Œè¾¹ç•Œæ¡ä»¶è¦†ç›–

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### ç›®å½•ç»“æ„
```
src/
â”œâ”€â”€ data-sources/       # æ•°æ®æºç®¡ç†æ¨¡å—
â”œâ”€â”€ analytics/          # åˆ†æå¼•æ“æ¨¡å—  
â”œâ”€â”€ commands/           # slash commands
â”œâ”€â”€ reports/            # æŠ¥å‘Šç”Ÿæˆå™¨
â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â””â”€â”€ types/              # TypeScriptç±»å‹å®šä¹‰

tests/
â”œâ”€â”€ unit/              # å•å…ƒæµ‹è¯•
â”œâ”€â”€ integration/       # é›†æˆæµ‹è¯•  
â”œâ”€â”€ e2e/              # ç«¯åˆ°ç«¯æµ‹è¯•
â”œâ”€â”€ performance/      # æ€§èƒ½æµ‹è¯•
â”œâ”€â”€ mocks/           # Mockæ•°æ®å’Œå·¥å…·
â””â”€â”€ setup.ts         # æµ‹è¯•ç¯å¢ƒé…ç½®
```

### æ ¸å¿ƒæ¨¡å—æµ‹è¯•

#### æ•°æ®æºç®¡ç†å™¨ (DataSourceManager)
- âœ… æ•°æ®æºè‡ªåŠ¨å‘ç°
- âœ… å¤šæ•°æ®æºä¼˜å…ˆçº§é€‰æ‹©  
- âœ… JSONLæ—¥å¿—è§£æ
- âœ… æ•°æ®æ ¼å¼è§„èŒƒåŒ–
- âœ… é”™è¯¯å¤„ç†å’Œé™çº§

#### åˆ†æå¼•æ“ (AnalyticsEngine)
- âœ… åŸºç¡€ç»Ÿè®¡è®¡ç®—
- âœ… æ•ˆç‡æŒ‡æ ‡è®¡ç®—
- âœ… ä»£ç å˜æ›´é‡ä¼°ç®—
- âœ… è¶‹åŠ¿åˆ†æç®—æ³•
- âœ… æ™ºèƒ½æ´å¯Ÿç”Ÿæˆ

#### æŠ¥å‘Šç”Ÿæˆå™¨ (ReportGenerator)
- âœ… ä¸­è‹±æ–‡åŒè¯­æ”¯æŒ
- âœ… å¤šç§è¾“å‡ºæ ¼å¼
- âœ… æ¨¡æ¿ç³»ç»Ÿ
- âœ… æ•°æ®å¯è§†åŒ–

## ğŸ”§ å¼€å‘å·¥å…·é…ç½®

### ä»£ç è´¨é‡
- **ESLint**: TypeScriptä»£ç æ£€æŸ¥
- **Prettier**: ä»£ç æ ¼å¼åŒ–
- **TypeScript**: ä¸¥æ ¼ç±»å‹æ£€æŸ¥

### CI/CD
- **GitHub Actions**: è‡ªåŠ¨åŒ–æµ‹è¯•å’Œæ„å»º
- **å¤šNode.jsç‰ˆæœ¬**: 16.x, 18.x, 20.xå…¼å®¹æ€§æµ‹è¯•
- **è‡ªåŠ¨åŒ–æŠ¥å‘Š**: è¦†ç›–ç‡æŠ¥å‘Šå’Œæ€§èƒ½åŸºå‡†

## ğŸ“ˆ æ€§èƒ½åŸºå‡†

å½“å‰æ€§èƒ½ç›®æ ‡ï¼š
- 1000æ¡JSONLè®°å½•è§£æ: <2ç§’
- 2000æ¡æ•°æ®åŸºç¡€ç»Ÿè®¡: <3ç§’  
- 1500æ¡æ•°æ®è¶‹åŠ¿åˆ†æ: <5ç§’
- 5ä¸ªé¡¹ç›®å¹¶å‘åˆ†æ: <8ç§’
- å†…å­˜ä½¿ç”¨å¢é•¿: <50MB (5000æ¡è®°å½•)

## ğŸ§© Mockæ•°æ®ç³»ç»Ÿ

æä¾›å®Œæ•´çš„æµ‹è¯•æ•°æ®ç”Ÿæˆå™¨ï¼š

```typescript
import { mockUsageData, generateUsageDataBatch } from '@tests/mocks/data';

// ç”Ÿæˆå•æ¡æµ‹è¯•æ•°æ®
const singleData = mockUsageData({
  session_id: 'test-session',
  active_time_seconds: 3600,
  token_usage: { total_tokens: 1000 }
});

// æ‰¹é‡ç”Ÿæˆæµ‹è¯•æ•°æ®
const batchData = generateUsageDataBatch(100, {
  dateRange: [new Date('2024-01-01'), new Date('2024-01-31')],
  projectPaths: ['/project1', '/project2']
});
```

## ğŸš¦ æµ‹è¯•ç­–ç•¥

### æµ‹è¯•é‡‘å­—å¡”
1. **å•å…ƒæµ‹è¯•** (70%): æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å’Œç®—æ³•
2. **é›†æˆæµ‹è¯•** (20%): æ¨¡å—é—´äº¤äº’å’Œæ•°æ®æµ
3. **ç«¯åˆ°ç«¯æµ‹è¯•** (10%): å®Œæ•´ä¸šåŠ¡åœºæ™¯

### æµ‹è¯•ç”¨ä¾‹åˆ†ç±»
- **æ­£å¸¸åœºæ™¯**: æ ‡å‡†æ•°æ®å¤„ç†æµç¨‹
- **è¾¹ç•Œæ¡ä»¶**: ç©ºæ•°æ®ã€æå€¼ã€å¼‚å¸¸è¾“å…¥
- **é”™è¯¯å¤„ç†**: æ–‡ä»¶ä¸å­˜åœ¨ã€ç½‘ç»œå¼‚å¸¸ã€æ•°æ®æŸå
- **æ€§èƒ½æµ‹è¯•**: å¤§æ•°æ®é‡ã€å¹¶å‘å¤„ç†ã€å†…å­˜ä¼˜åŒ–

## ğŸ“‹ å¼€å‘æ£€æŸ¥æ¸…å•

åœ¨æäº¤ä»£ç å‰è¯·ç¡®ä¿ï¼š
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡ (`npm run test:all`)
- [ ] ä»£ç æ£€æŸ¥é€šè¿‡ (`npm run lint`)  
- [ ] ç±»å‹æ£€æŸ¥é€šè¿‡ (`npm run typecheck`)
- [ ] ä»£ç æ ¼å¼åŒ–æ­£ç¡® (`npm run format:check`)
- [ ] æµ‹è¯•è¦†ç›–ç‡è¾¾æ ‡ (`npm run test:coverage`)

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. ç¼–å†™æµ‹è¯•ç”¨ä¾‹
4. å®ç°åŠŸèƒ½ä»£ç 
5. ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
6. æäº¤æ›´æ”¹ (`git commit -m 'Add AmazingFeature'`)
7. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
8. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## æŠ€æœ¯é€‰å‹è¯´æ˜

é€‰æ‹© TypeScript + Node.js çš„æ ¸å¿ƒä¼˜åŠ¿ï¼š
- **ç±»å‹å®‰å…¨**: ç¼–è¯‘æ—¶é”™è¯¯æ£€æŸ¥ï¼Œå‡å°‘è¿è¡Œæ—¶é—®é¢˜
- **å¼‚æ­¥ä¼˜åŠ¿**: åŸç”Ÿå¼‚æ­¥æ¨¡å‹é«˜æ•ˆå¤„ç†å¤§æ–‡ä»¶I/O
- **ç”Ÿæ€ä¸°å¯Œ**: npmç”Ÿæ€ç³»ç»Ÿå’Œå·¥å…·é“¾æˆç†Ÿ
- **éƒ¨ç½²ç®€å•**: ä¸€é”®å®‰è£…ï¼Œä¾èµ–ç®¡ç†è‡ªåŠ¨åŒ–
- **è·¨å¹³å°æ€§**: Node.jsè·¨å¹³å°ä¸€è‡´æ€§å¥½

ğŸš€ äº«å—ä½ çš„ Claude Code ç»Ÿè®¡åˆ†æä¹‹æ—…ï¼